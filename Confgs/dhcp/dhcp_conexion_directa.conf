# ===============================================================
# Archivo de configuración del servidor DHCP (dhcpd)
# Escenario: Conexión directa (Capa 2)
# El servidor está en la misma red que los clientes.
# ===============================================================

# ---------------------------------------------------------------
# Parámetros globales
# ---------------------------------------------------------------

# Tiempo de concesión por defecto (en segundos)
# Si el cliente no pide un tiempo específico, se usará este valor.
default-lease-time 600;     # 10 minutos

# Tiempo máximo de concesión permitido (en segundos)
# Un cliente no podrá tener una IP más de 2 horas sin renovarla.
max-lease-time 7200;        # 2 horas

# ---------------------------------------------------------------
# Definición de la subred donde entregará IPs
# ---------------------------------------------------------------
subnet 192.168.30.0 netmask 255.255.255.0 {
    # Rango de direcciones IP que el servidor asignará dinámicamente.
    # Los clientes obtendrán una IP entre 192.168.1.100 y 192.168.1.200.
    range 192.168.30.10 192.168.30.100;

    # Dirección IP de la puerta de enlace (router) para esta red.
    # Los clientes la usarán para salir hacia otras redes o Internet.
    option routers 192.168.30.1;

    # Servidores DNS que usarán los clientes.
    # Aquí se usan los públicos de Google como ejemplo.
    option domain-name-servers 8.8.8.8;

    # Nombre de dominio que se asignará a los clientes (opcional).
    option domain-name "redlocal.local";
}